YUI.add("datatable-sort",function(A){var H=A.ClassNameManager.getClassName,I="datatable",B="asc",D="desc",C=H(I,"asc"),E=H(I,"desc"),F=H(I,"sortable"),J='<a class="{link_class}" title="{link_title}" href="{link_href}">{value}</a>';function G(){G.superclass.constructor.apply(this,arguments);}A.mix(G,{NS:"sort",NAME:"dataTableSort",ATTRS:{trigger:{value:"theadCellClick",writeOnce:"initOnly"},lastSortedBy:{value:null},template:{value:J}}});A.extend(G,A.Plugin.Base,{initializer:function(K){var L=this.get("host");L.get("recordset").plug(A.Plugin.RecordsetSort,{dt:L});L.get("recordset").sort.addTarget(L);this.doBefore("_createTheadThNode",this._beforeCreateTheadThNode);this.doBefore("_attachTheadThNode",function(M){if(M.column.get("sortable")){M.th.addClass(F);}});L.on(this.get("trigger"),A.bind(this._onEventSortColumn,this));L.after("recordsetSort:sort",function(){L._uiSetRecordset(L.get("recordset"));});L.after("lastSortedByChangeEvent",function(){});if(L.get("rendered")){L._uiSetColumnset(L.get("columnset"));}},_beforeCreateTheadThNode:function(K){if(K.column.get("sortable")){K.value=A.substitute(this.get("template"),{link_class:"foo",link_title:"bar",link_href:"bat",value:K.value});}},_onEventSortColumn:function(O){O.halt();var M=this.get("host"),L=M.get("columnset").hash[O.currentTarget.get("id")],N=L.get("field"),P=this.get("lastSortedBy"),K=(P&&P.field===N&&P.dir===B)?D:B,Q=L.get("sortFn");if(L.get("sortable")){M.get("recordset").sort.sort(N,K===D,Q);this.set("lastSortedBy",{field:N,dir:K});}}});A.namespace("Plugin").DataTableSort=G;},"@VERSION@",{requires:["plugin","datatable-base","recordset-sort"],lang:["en"]});